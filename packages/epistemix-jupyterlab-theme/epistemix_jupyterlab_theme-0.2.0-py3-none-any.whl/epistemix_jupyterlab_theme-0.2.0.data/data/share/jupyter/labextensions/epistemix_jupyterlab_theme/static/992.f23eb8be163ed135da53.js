"use strict";(self.webpackChunkepistemix_jupyterlab_theme=self.webpackChunkepistemix_jupyterlab_theme||[]).push([[992],{992:(e,t,n)=>{n.r(t),n.d(t,{default:()=>j});var i=n(61),o=n(177);const a={name:"fred",displayName:"FRED",extensions:["fred","fredmod"],mimetype:"application/x-fred",icon:new(n(655).LabIcon)({name:"fredIcon",svgstr:'<svg xmlns="http://www.w3.org/2000/svg" width="320" height="320" viewBox="0 0 320 320">\n      <g class="jp-icon-selectable">\n        <path d="M225.3 143.6v32.8h-91.8v32.8H245V242H81v-98.4h144.3ZM81 110.8V78h157.4v32.8H81Z" fill="#FFF"/>\n      </g>\n    </svg>'})},s=["agent_restart","agent_startup","comment","condition","configuration","group_restart","group_startup","network","place","prototype","restart","simulation","startup","state","use","variables"],r=["all_group_agents","condition_timing","contact_prob","contact_rate","country","days","default_model","dump_files","enable_agent_records","enable_aging","enable_population_dynamics","enable_transmission_bias","end_date","exposed_state","file_buffer_size","group_start_state","has_group_agent","is_directed","locations","max_loops","meta_start_state","output","output_interval","population_directory","population_version","same_age_bias","seed","shuffle","snapshot_date","snapshot_final","snapshot_interval","snapshots","start_date","start_state","substeps","test","transmissibility","transmission_mode","transmission_model","transmission_network_name","update_progress","use_index_id","use_mean_latitude","weekly_data"],l=["agent","if","include","list","list_table","numeric","shared","table","then","with"],c=["abs","acos","acosh","add","apply","arg_sort","asin","asinh","ask","atan","atan2","atanh","bernoulli","binomial","cauchy","ceil","chi_squared","cos","cosh","current_place","current_count","current_state","daily_count","dist","distance","div","elevation","equal","exp","exponential","extreme_value","filter_agents","filter_by_index","filter_values","find_index","fisher_f","floor","foreach_get","gamma","geometric","get_active_places_just_opening","get_contact_rate","get_container","get_day_from_timestamp","get_group_agent","get_group_agents","get_group_id","get_hour_from_timestamp","get_keys","get_month_from_timestamp","get_next_open_period","get_number_of_transmissibles","get_open_period","get_population","get_role","get_same_age_bias","size","get_size","get_transmissibility","get_transmissible_list","get_values","get_year_from_timestamp","getx","gety","gompertz","index_agents","index_values","inlinks","int","intersection","last","latitude","length","links","list","log","lognormal","longitude","lookup","lookup_list","lookup_list_table_value","max","members","min","mod","mult","negative_binomial","normal","nprob","outlinks","partial_sums","percentile","poisson","pow","prev_state","prod","range","range_list","read","read_agent_file","read_group_file","read_place_file","round","sample_with_replacement","sample_without_replacement","select","select_index","set_difference","shuffle","sim_step","sin","sinh","sort","source","sqrt","steps_between","student_t","sub","sum","sus_list","sus_list","tan","tanh","total_count","transmissions","uniform","union","unique","until","weibull","now","sim_day","sim_run","day_of_week","day_of_month","day_of_year","month","year","today","date","hour","epi_week","epi_year","id","birth_year","age_in_days","age_in_years","real_age","age","eq","neq","lt","lte","gt","gte","is_in_list","is_in_range","is_date_in_range","is_file_open","is_restart","is_member","is_meta_agent","is_group_agent","is_open","is_group_open","was_exposed_in","was_exposed_externally","is_temporarily_closed","is_connected_to","is_connected_from","is_at","is_skipping","abort","add_edge","delete_edge","set_weight","get_weight","shortest_path","edge_neighborhood","weight_neighborhood","add_edge_from","add_edge_to","add_site","add_to_schedule","adjust_contacts","attend","clear","clear_schedule","clear_transmissible_agents","close","delete_edge_from","delete_edge_to","die","exit","erase","give_birth","activate_agent","set_age","assign_agent_to_place","assign_agent_to_network","new_agent","import_exposures","join","move","move_to","move_to_location","open_csv","pop","preferential_attachment_network","print","print_csv","print_file","print_event_file","print_event","push","quit","randomize_network","read_container_file","read_list_table","read_schedule_file","read_table","remove_from_schedule","reopen","reset_schedule","send","set","set_state","set_sus","set_trans","set_weight_from","set_weight_to","get_weight_from","get_weight_to","skip","tell","transmit","wait","default","next","prob","not"],u=["-","+","/","*","=","<",">","!"],p=/[A-Za-z0-9\-_#"+=]+/,d=/[{}().]/;function _(e,t){!function(e){e.docRegistry.addFileType({name:a.name,displayName:a.displayName,extensions:a.extensions.map((e=>`.${e}`)),mimeTypes:[a.mimetype],icon:a.icon,iconLabel:a.displayName})}(e),function(e){e.defineMode(a.name,(()=>({startState:()=>({previousToken:null,currentToken:null,nextToken:null,mode:!1}),token:(e,t)=>{if(e.eatSpace())return null;let n=null;const i=e.next();let o=!1,a=!1;switch(t.mode){case"comment":n="comment","}"===i&&(t.mode=!1);break;case"string":n="string",'"'===i&&(t.mode=!1);break;default:if(i&&d.test(i))return t.previousToken=i,null;e.eatWhile(p),t.currentToken=e.current(),console.log("ch: ",i),console.log("current: ","|"+e.current()+"|"),t.nextToken=function(e){let t=null,n=1,i="";if(e.eatSpace(),e.eol())for(;null===t&&(i=e.lookAhead(n),void 0!==i);){const e=i.match(d),o=i.match(p);e&&(t=e[0].trim()),o&&(t=o[0].trim()),n++}else{const n=e.match(d,!1),i=e.match(p,!1);n&&(t=n[0].trim()),i&&(t=i[0].trim())}return t}(e),console.log("previous: ",t.previousToken),console.log("next: ",t.nextToken),o="("===t.nextToken,a="."===t.previousToken,s.includes(t.currentToken)&&/[{\w]/.test(t.nextToken)?"comment"===t.currentToken?(t.mode="comment",n="comment"):n="block":r.includes(t.currentToken)&&!a&&"="===t.nextToken?n="property":c.includes(t.currentToken)&&o?n="function":l.includes(t.currentToken)?n="keyword":t.currentToken.startsWith("#")?(n="comment",e.skipToEnd()):t.currentToken.startsWith('"')?(t.mode="string",n="string"):u.includes(t.currentToken)?n="operator":/^-?\d+$/.test(t.currentToken)&&(n="number")}return t.previousToken=t.currentToken,n?`fred-${n}`:n},lineComment:"#"}))),e.defineMIME(a.mimetype,a.name),e.modeInfo.push({name:a.displayName,mime:a.mimetype,mode:a.name,ext:a.extensions})}(t)}var h=n(526),m=n(840),f=function(e,t){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},f(e,t)};function g(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}f(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var v=function(){return v=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},v.apply(this,arguments)};function y(e,t,n,i){return new(n||(n=Promise))((function(o,a){function s(e){try{l(i.next(e))}catch(e){a(e)}}function r(e){try{l(i.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,r)}l((i=i.apply(e,t||[])).next())}))}function b(e,t){var n,i,o,a,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function r(a){return function(r){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(o=2&a[0]?i.return:a[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;switch(i=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,i=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],i=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,r])}}}var w,k="function"==typeof requestAnimationFrame?requestAnimationFrame:setImmediate,E="function"==typeof cancelAnimationFrame?cancelAnimationFrame:clearImmediate,x=function(){function e(e){var t=this;this._disposed=new m.Signal(this),this._tick=new h.PromiseDelegate,this._ticked=new m.Signal(this),this._timeout=-1,this._factory=e.factory,this._standby=e.standby||w.DEFAULT_STANDBY,this._state=v(v({},w.DEFAULT_STATE),{timestamp:(new Date).getTime()});var n=e.frequency||{},i=Math.max(n.interval||0,n.max||0,w.DEFAULT_FREQUENCY.max);this.frequency=v(v(v({},w.DEFAULT_FREQUENCY),n),{max:i}),this.name=e.name||w.DEFAULT_NAME,"auto"in e&&!e.auto||k((function(){t.start()}))}return Object.defineProperty(e.prototype,"disposed",{get:function(){return this._disposed},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"frequency",{get:function(){return this._frequency},set:function(t){if(!this.isDisposed&&!h.JSONExt.deepEqual(t,this.frequency||{})){var n=t.backoff,i=t.interval,o=t.max;if(i=Math.round(i),o=Math.round(o),"number"==typeof n&&n<1)throw new Error("Poll backoff growth factor must be at least 1");if((i<0||i>o)&&i!==e.NEVER)throw new Error("Poll interval must be between 0 and max");if(o>e.MAX_INTERVAL&&o!==e.NEVER)throw new Error("Max interval must be less than "+e.MAX_INTERVAL);this._frequency={backoff:n,interval:i,max:o}}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isDisposed",{get:function(){return"disposed"===this.state.phase},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"standby",{get:function(){return this._standby},set:function(e){this.isDisposed||this.standby===e||(this._standby=e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._state},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tick",{get:function(){return this._tick.promise},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ticked",{get:function(){return this._ticked},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this.isDisposed||(this._state=v(v({},w.DISPOSED_STATE),{timestamp:(new Date).getTime()}),this._tick.promise.catch((function(e){})),this._tick.reject(new Error("Poll ("+this.name+") is disposed.")),this._disposed.emit(void 0),m.Signal.clearData(this))},e.prototype.refresh=function(){return this.schedule({cancel:function(e){return"refreshed"===e.phase},interval:e.IMMEDIATE,phase:"refreshed"})},e.prototype.schedule=function(t){return void 0===t&&(t={}),y(this,void 0,void 0,(function(){var n,i,o,a,s,r=this;return b(this,(function(l){switch(l.label){case 0:return this.isDisposed||t.cancel&&t.cancel(this.state)?[2]:(n=this.state,i=this._tick,o=new h.PromiseDelegate,a=v({interval:this.frequency.interval,payload:null,phase:"standby",timestamp:(new Date).getTime()},t),this._state=a,this._tick=o,n.interval===e.IMMEDIATE?E(this._timeout):clearTimeout(this._timeout),this._ticked.emit(this.state),i.resolve(this),[4,i.promise]);case 1:return l.sent(),s=function(){r.isDisposed||r.tick!==o.promise||r._execute()},this._timeout=a.interval===e.IMMEDIATE?k(s):a.interval===e.NEVER?-1:setTimeout(s,a.interval),[2]}}))}))},e.prototype.start=function(){return this.schedule({cancel:function(e){var t=e.phase;return"constructed"!==t&&"standby"!==t&&"stopped"!==t},interval:e.IMMEDIATE,phase:"started"})},e.prototype.stop=function(){return this.schedule({cancel:function(e){return"stopped"===e.phase},interval:e.NEVER,phase:"stopped"})},e.prototype._execute=function(){var e=this,t="function"==typeof this.standby?this.standby():this.standby;if(t="never"!==t&&("when-hidden"===t?!("undefined"==typeof document||!document||!document.hidden):t))this.schedule();else{var n=this.tick;this._factory(this.state).then((function(t){e.isDisposed||e.tick!==n||e.schedule({payload:t,phase:"rejected"===e.state.phase?"reconnected":"resolved"})})).catch((function(t){e.isDisposed||e.tick!==n||e.schedule({interval:w.sleep(e.frequency,e.state),payload:t,phase:"rejected"})}))}},e}();!function(e){e.IMMEDIATE=0,e.MAX_INTERVAL=2147483647,e.NEVER=1/0}(x||(x={})),function(e){e.DEFAULT_BACKOFF=3,e.DEFAULT_FREQUENCY={backoff:!0,interval:1e3,max:3e4},e.DEFAULT_NAME="unknown",e.DEFAULT_STANDBY="when-hidden",e.DEFAULT_STATE={interval:x.NEVER,payload:null,phase:"constructed",timestamp:new Date(0).getTime()},e.DISPOSED_STATE={interval:x.NEVER,payload:null,phase:"disposed",timestamp:new Date(0).getTime()},e.sleep=function(t,n){var i=t.backoff,o=t.interval,a=t.max;if(o===x.NEVER)return o;var s=!0===i?e.DEFAULT_BACKOFF:!1===i?1:i,r=function(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e}(o,n.interval*s);return Math.min(a,r)}}(w||(w={}));var T=function(){function e(e,t){var n=this;void 0===t&&(t=500),this.args=void 0,this.payload=null,this.limit=t,this.poll=new x({auto:!1,factory:function(){return y(n,void 0,void 0,(function(){var t;return b(this,(function(n){return t=this.args,this.args=void 0,[2,e.apply(void 0,t)]}))}))},frequency:{backoff:!1,interval:x.NEVER,max:x.NEVER},standby:"never"}),this.payload=new h.PromiseDelegate,this.poll.ticked.connect((function(e,t){var i=n.payload;return"resolved"===t.phase?(n.payload=new h.PromiseDelegate,void i.resolve(t.payload)):"rejected"===t.phase||"stopped"===t.phase?(n.payload=new h.PromiseDelegate,i.promise.catch((function(e){})),void i.reject(t.payload)):void 0}),this)}return Object.defineProperty(e.prototype,"isDisposed",{get:function(){return null===this.payload},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this.isDisposed||(this.args=void 0,this.payload=null,this.poll.dispose())},e.prototype.stop=function(){return y(this,void 0,void 0,(function(){return b(this,(function(e){return[2,this.poll.stop()]}))}))},e}(),D=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}g(t,e),t.prototype.invoke=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.args=e,this.poll.schedule({interval:this.limit,phase:"invoked"}),this.payload.promise}}(T),function(e){function t(t,n){var i=e.call(this,t,"number"==typeof n?n:n&&n.limit)||this;return i._trailing=!1,"number"!=typeof n&&n&&"trailing"===n.edge&&(i._trailing=!0),i._interval=i._trailing?i.limit:x.IMMEDIATE,i}return g(t,e),t.prototype.invoke=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="invoked"!==this.poll.state.phase;return(n||this._trailing)&&(this.args=e),n&&this.poll.schedule({interval:this._interval,phase:"invoked"}),this.payload.promise},t}(T)),A=n(923);const M="apputils:reset",j=[{id:"epistemix_jupyterlab_theme:theme",autoStart:!0,requires:[i.IThemeManager],activate:(e,t)=>{!function(e){e.register({name:"Epistemix",isLight:!1,load:()=>e.loadCSS("epistemix_jupyterlab_theme/index.css"),unload:()=>Promise.resolve(void 0)})}(t)}},{id:"epistemix_jupyterlab_theme:fred",autoStart:!0,requires:[o.ICodeMirror],activate:(e,t)=>{_(e,t.CodeMirror)}},{id:"epistemix_jupyterlab_theme:splash",autoStart:!0,provides:i.ISplashScreen,activate:e=>function(e){const{commands:t,restored:n}=e,o=document.createElement("div");o.style.backgroundColor="#000533",o.style.display="flex",o.style.justifyContent="center",o.style.alignItems="center";const a=document.createElement("div");let s;o.id="jupyterlab-splash",a.id="main-logo",a.innerHTML='\n    <svg xmlns="http://www.w3.org/2000/svg" width="360" height="50" viewBox="0 0 360 50">\n      <title>Epistemix</title>\n      <path d="m337.43 31.87-4.28 5.14h-8.32l8.87-9.73 3.73 4.59Zm-10.01-19.86h7.56l6.19 7.73 6.08-7.73h8.25l-9.37 11.92 10.66 13.08h-8.76l-20.61-25Zm-27.42 25v-25h8v25h-8Zm-55 0v-25h10l7.89 13.67 7.71-13.67H281v25h-8V20.26l-9.33 16.75h-2.65l-9-16.75v16.75H245Zm-43 0v-25h24v5h-16v5h14v5h-14v5h17v5h-25Zm-34 0v-20h-9v-5h26v5h-9v20h-8Zm-37.27.46c-9.39 0-14.25-3-14.64-8.46h8c.39 1.82 1.89 3.25 6.5 3.25 3.61 0 5.68-.89 5.68-2.57 0-1.68-1.86-2.07-6.71-2.54-9.11-.79-12.61-3-12.61-8 0-4.75 4.79-8 12.89-8 8.1 0 12.79 2.43 13.43 7.86h-7.89c-.5-1.75-2.25-2.64-5.46-2.64-3.39 0-5 .75-5 2.21s1.29 1.82 6.32 2.29c8.36.68 13.11 2.39 13.11 8.07-.01 5.07-4.74 8.53-13.63 8.53h.01ZM91 37.01v-25h8v25h-8Zm-35-13h4.5c2.9 0 4.5-1.17 4.5-3.52v-.09c0-2.38-1.67-3.34-4.47-3.34H56v6.95Zm-8 13v-25h12.83c8.22 0 12.17 2.76 12.17 8.21v.18c0 5.38-4.3 8.65-11.83 8.65H56v8l-8-.04Zm-21-15v5H13v5h17v5H5v-15h22Zm-22-5v-5h24v5H5Z" fill="#e8ecfc"/>\n    </svg>\n  ',o.appendChild(a);const r=new D((async()=>{if(!s){s=new i.Dialog({title:"Loading...",body:"The loading screen is taking a long time. \nWould you like to clear the workspace or keep waiting?",buttons:[i.Dialog.cancelButton({label:"Keep Waiting"}),i.Dialog.warnButton({label:"Clear Workspace"})]});try{const e=await s.launch();if(s.dispose(),s=null,e.button.accept&&t.hasCommand(M))return t.execute(M);requestAnimationFrame((()=>{r.invoke().catch((()=>{}))}))}catch(e){}}}),{limit:12e3,edge:"trailing"});let l=0;return{show:()=>(l++,document.body.appendChild(o),r.invoke().catch((()=>{})),new A.DisposableDelegate((async()=>{await n,0==--l&&(r.stop(),s&&(s.dispose(),s=null),o.classList.add("splash-fade"),window.setTimeout((()=>{document.body.removeChild(o)}),200))})))}}(e)}]}}]);