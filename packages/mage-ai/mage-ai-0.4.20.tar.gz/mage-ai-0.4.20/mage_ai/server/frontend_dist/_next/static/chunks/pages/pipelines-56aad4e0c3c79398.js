(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1221],{66757:function(n,e,t){"use strict";var r=t(19319),o=t(94178),i=t(67240),u="localStorage"in t.g&&t.g.localStorage?t.g.localStorage:r;function c(n,e){return 1===arguments.length?a(n):l(n,e)}function a(n){const e=u.getItem(n);return o(e)}function l(n,e){try{return u.setItem(n,JSON.stringify(e)),!0}catch(t){return!1}}c.set=l,c.get=a,c.remove=function(n){return u.removeItem(n)},c.clear=function(){return u.clear()},c.backend=function(n){return n&&(u=n),u},c.on=i.on,c.off=i.off,n.exports=c},94178:function(n){"use strict";n.exports=function(n){const e=function(n){try{return JSON.parse(n)}catch(e){return n}}(n);return void 0===e?null:e}},19319:function(n){"use strict";var e={};n.exports={getItem:function(n){return n in e?e[n]:null},setItem:function(n,t){return e[n]=t,!0},removeItem:function(n){return!!(n in e)&&delete e[n]},clear:function(){return e={},!0}}},67240:function(n,e,t){"use strict";var r=t(94178),o={};function i(n){n||(n=t.g.event);var e=o[n.key];e&&e.forEach((function(e){e(r(n.newValue),r(n.oldValue),n.url||n.uri)}))}n.exports={on:function(n,e){o[n]?o[n].push(e):o[n]=[e],t.g.addEventListener?t.g.addEventListener("storage",i,!1):t.g.attachEvent?t.g.attachEvent("onstorage",i):t.g.onstorage=i},off:function(n,e){var t=o[n];t.length>1?t.splice(t.indexOf(e),1):o[n]=[]}}},17903:function(n,e,t){"use strict";t.d(e,{Z:function(){return y}});var r=t(82394),o=t(12691),i=t.n(o),u=t(82684),c=t(10919),a=t(19711),l=t(46313),s=t(23831),f=t(49125),d=l.default.table.withConfig({displayName:"indexstyle__TableStyle",componentId:"sc-1wzfyed-0"})(["contain:size;width:100%;"]),p=l.default.tr.withConfig({displayName:"indexstyle__TableRowStyle",componentId:"sc-1wzfyed-1"})(["",""],(function(n){return!n.noHover&&"\n    &:hover {\n      background: ".concat((n.theme.interactive||s.Z.interactive).rowHoverBackground,";\n      cursor: pointer;\n    }\n  ")})),g=(0,l.css)(["text-overflow:ellipsis;white-space:nowrap;"," "," "," "," "," ",""],(function(n){return!n.alignTop&&"\n    vertical-align: middle;\n  "}),(function(n){return n.alignTop&&"\n    vertical-align: top;\n  "}),(function(n){return!n.noBorder&&"\n    border-bottom: 1px solid ".concat((n.theme.borders||s.Z.borders).light,";\n  ")}),(function(n){return n.compact&&"\n    padding: ".concat(f.iI/2,"px ").concat(f.iI,"px;\n  ")}),(function(n){return!n.compact&&"\n    padding: ".concat(f.iI,"px ").concat(2*f.iI,"px;\n  ")}),(function(n){return n.maxWidth&&"\n    max-width: ".concat(n.maxWidth,";\n  ")})),h=l.default.th.withConfig({displayName:"indexstyle__TableHeadStyle",componentId:"sc-1wzfyed-2"})(["",""],g),v=l.default.td.withConfig({displayName:"indexstyle__TableDataStyle",componentId:"sc-1wzfyed-3"})([""," ",""],g,(function(n){return n.selected&&"\n    background-color: ".concat((n.theme.interactive||s.Z.interactive).activeBorder,";\n  ")})),m=t(28598);function w(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,r)}return t}function b(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?w(Object(t),!0).forEach((function(e){(0,r.Z)(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):w(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}var y=function(n){var e=n.alignTop,t=n.buildLinkProps,r=n.columnFlex,o=n.columnMaxWidth,l=n.columns,s=void 0===l?[]:l,f=n.compact,g=n.isSelectedRow,w=n.noBorder,y=n.onClickRow,E=n.rows,O=n.uuid,A=(0,u.useMemo)((function(){return r.reduce((function(n,e){return n+(e||0)}),0)}),r),T=(0,u.useCallback)((function(n){if(r[n]){var e=Math.round(r[n]/A*100);return"".concat(e,"%")}return null}),[]),R=(0,u.useMemo)((function(){return null===E||void 0===E?void 0:E.map((function(n,r){var u=null===t||void 0===t?void 0:t(r),a=n.map((function(n,t){return(0,m.jsx)(v,{alignTop:e,compact:f,maxWidth:null===o||void 0===o?void 0:o(t),noBorder:w,selected:null===g||void 0===g?void 0:g(r),width:T(t),children:n},"".concat(O,"-row-").concat(r,"-cell-").concat(t))})),l=(0,m.jsx)(p,{noHover:!(u||y),onClick:y?function(){return y(r)}:null,children:a},"".concat(O,"-row-").concat(r));return u?(0,m.jsx)(i(),b(b({},u),{},{passHref:!0,children:(0,m.jsx)(c.Z,{fullWidth:!0,noHoverUnderline:!0,noOutline:!0,style:{display:"table-row-group"},verticalAlignContent:!0,children:l})})):l}))}),[e,t,T,o,s,f,g,w,y,E]);return(0,m.jsxs)(d,{children:[(null===s||void 0===s?void 0:s.length)>=1&&(0,m.jsx)(p,{noHover:!0,children:s.map((function(n,e){return(0,m.jsx)(h,{compact:f,noBorder:w,children:(0,m.jsx)(a.ZP,{bold:!0,leftAligned:!0,monospace:!0,muted:!0,children:n.label?n.label():n.uuid})},"".concat(O,"-col-").concat(n.uuid,"-").concat(e))}))}),R]})}},86422:function(n,e,t){"use strict";t.d(e,{$W:function(){return l},DA:function(){return a},Qj:function(){return s},Ut:function(){return g},V4:function(){return p},f2:function(){return d},iZ:function(){return f},t6:function(){return i},tf:function(){return u}});var r,o,i,u,c=t(82394);!function(n){n.PYTHON="python",n.SQL="sql"}(i||(i={})),function(n){n.CHART="chart",n.DATA_EXPORTER="data_exporter",n.DATA_LOADER="data_loader",n.SCRATCHPAD="scratchpad",n.SENSOR="sensor",n.TRANSFORMER="transformer"}(u||(u={}));var a,l=[u.CHART,u.DATA_EXPORTER,u.DATA_LOADER,u.SCRATCHPAD,u.SENSOR,u.TRANSFORMER],s=[u.CHART,u.SCRATCHPAD,u.SENSOR],f=[u.SCRATCHPAD];!function(n){n.EXECUTED="executed",n.FAILED="failed",n.NOT_EXECUTED="not_executed",n.UPDATED="updated"}(a||(a={}));var d=[u.DATA_EXPORTER,u.TRANSFORMER],p=(r={},(0,c.Z)(r,u.DATA_EXPORTER,"Data exporter"),(0,c.Z)(r,u.DATA_LOADER,"Data loader"),(0,c.Z)(r,u.SCRATCHPAD,"Scratchpad"),(0,c.Z)(r,u.SENSOR,"Sensor"),(0,c.Z)(r,u.TRANSFORMER,"Transformer"),r),g=[u.DATA_LOADER,u.TRANSFORMER,u.DATA_EXPORTER];o={},(0,c.Z)(o,u.DATA_EXPORTER,"DE"),(0,c.Z)(o,u.DATA_LOADER,"DL"),(0,c.Z)(o,u.SCRATCHPAD,"SP"),(0,c.Z)(o,u.SENSOR,"SR"),(0,c.Z)(o,u.TRANSFORMER,"TF")},93348:function(n,e,t){"use strict";t.d(e,{U5:function(){return c},Xm:function(){return o},Z4:function(){return a},fq:function(){return u}});var r,o,i=t(82394);!function(n){n.API="api",n.EVENT="event",n.TIME="time"}(o||(o={}));var u,c,a=(r={},(0,i.Z)(r,o.API,(function(){return"API"})),(0,i.Z)(r,o.EVENT,(function(){return"event"})),(0,i.Z)(r,o.TIME,(function(){return"schedule"})),r);!function(n){n.ACTIVE="active",n.INACTIVE="inactive"}(u||(u={})),function(n){n.ONCE="@once",n.HOURLY="@hourly",n.DAILY="@daily",n.WEEKLY="@weekly",n.MONTHLY="@monthly"}(c||(c={}))},5545:function(n,e,t){"use strict";t.r(e);var r=t(82394),o=t(12757),i=t(82684),u=t(83455),c=t(34376),a=t(86422),l=t(60328),s=t(48933),f=t(93461),d=t(31866),p=t(17903),g=t(19711),h=t(41374),v=t(10503),m=t(99994),w=t(93348),b=t(49125),y=t(96510),E=t(66653),O=t(5679),A=t(28598);function T(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,r)}return t}function R(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?T(Object(t),!0).forEach((function(e){(0,r.Z)(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):T(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}e.default=function(){var n=(0,c.useRouter)(),e=(0,i.useState)({}),t=e[0],T=e[1],D=h.ZP.pipelines.list({include_schedules:1}),P=D.data,x=D.mutate,S=(0,i.useMemo)((function(){return(null===P||void 0===P?void 0:P.pipelines)||[]}),[P]),C=(0,u.Db)(h.ZP.pipelines.useCreate(),{onSuccess:function(e){return(0,y.wD)(e,{callback:function(e){var t=e.pipeline.uuid;n.push("/pipelines/[pipeline]/edit","/pipelines/".concat(t,"/edit"))},onErrorCallback:function(n){var e=n.error,t=e.errors,r=e.message;console.log(t,r)}})}}),j=(0,o.Z)(C,2),_=j[0],k=j[1].isLoading,Z=(0,u.Db)((function(n){return h.ZP.pipelines.useUpdate(n.uuid)({pipeline:n})}),{onSuccess:function(n){return(0,y.wD)(n,{callback:function(n){var e=n.pipeline.uuid;T((function(n){return R(R({},n),{},(0,r.Z)({},e,!1))})),x()},onErrorCallback:function(n){var e=n.error,t=e.errors,r=e.message;console.log(t,r)}})}}),N=(0,o.Z)(Z,1)[0];return(0,A.jsx)(s.Z,{subheaderChildren:(0,A.jsx)(d.ZP,{background:m.eW,beforeElement:(0,A.jsx)(v.mm,{size:2.5*b.iI}),bold:!0,inline:!0,loading:k,onClick:function(){return _({pipeline:{name:(0,O.Y6)()}})},uuid:"PipelineListPage/new_pipeline",children:"New pipeline"}),title:"Pipelines",uuid:"pipelines/index",children:(0,A.jsx)(p.Z,{buildLinkProps:function(n){return{as:"/pipelines/".concat(S[n].uuid),href:"/pipelines/[pipeline]"}},columns:[{label:function(){return""},uuid:"action"},{uuid:"Status"},{uuid:"Name"},{uuid:"Blocks"},{uuid:"Triggers"},{label:function(){return""},uuid:"view"}],columnFlex:[null,1,7,1,1,null],rows:S.map((function(n){var e=n.blocks,o=n.name,i=n.schedules,u=n.uuid,c=e.filter((function(n){var e=n.type;return a.tf.SCRATCHPAD!==e})).length,s=i.length,d=i.find((function(n){var e=n.status;return w.fq.ACTIVE===e}));return[s>=1?(0,A.jsx)(l.Z,{loading:!!t[u],iconOnly:!0,noBackground:!0,noBorder:!0,noPadding:!0,onClick:function(e){(0,E.j)(e),T((function(n){return R(R({},n),{},(0,r.Z)({},u,!0))})),N(R(R({},n),{},{status:d?w.fq.INACTIVE:w.fq.ACTIVE}))},children:d?(0,A.jsx)(v.dz,{muted:!0,size:2*b.iI}):(0,A.jsx)(v.Py,{default:!0,size:2*b.iI})}):null,(0,A.jsx)(g.ZP,{default:!d,monospace:!0,success:d,children:d?w.fq.ACTIVE:s>=1?w.fq.INACTIVE:"no schedules"}),(0,A.jsx)(g.ZP,{children:o}),(0,A.jsx)(g.ZP,{default:0===c,monospace:!0,children:c}),(0,A.jsx)(g.ZP,{default:0===s,monospace:!0,children:s}),(0,A.jsx)(f.Z,{flex:1,justifyContent:"flex-end",children:(0,A.jsx)(v._Q,{default:!0,size:2*b.iI})})]}))})})}},5679:function(n,e,t){"use strict";t.d(e,{OC:function(){return f},n1:function(){return d},RA:function(){return h},kC:function(){return v},vg:function(){return T},JX:function(){return m},T3:function(){return P},Mp:function(){return w},Pb:function(){return p},kE:function(){return R},HD:function(){return g},wX:function(){return b},x6:function(){return y},_6:function(){return E},Y6:function(){return S},Lo:function(){return C},Tz:function(){return D},QV:function(){return x},C5:function(){return A}});var r=t(12757),o=["aged","ancient","autumn","billowing","bitter","black","blue","bold","broken","cold","cool","crimson","damp","dark","dawn","delicate","divine","dry","empty","falling","floral","fragrant","frosty","green","hidden","holy","icy","late","lingering","little","lively","long","misty","morning","muddy","nameless","old","patient","polished","proud","purple","quiet","red","restless","rough","shy","silent","small","snowy","solitary","sparkling","spring","still","summer","throbbing","twilight","wandering","weathered","white","wild","winter","wispy","withered","young"],i=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],u=t(92083),c=t.n(u),a=["bird","breeze","brook","bush","butterfly","cherry","cloud","darkness","dawn","dew","dream","dust","feather","field","fire","firefly","flower","fog","forest","frog","frost","glade","glitter","grass","haze","hill","lake","leaf","meadow","moon","morning","mountain","night","paper","pine","pond","rain","resonance","river","sea","shadow","shape","silence","sky","smoke","snow","snowflake","sound","star","sun","sun","sunset","surf","thunder","tree","violet","voice","water","water","waterfall","wave","wildflower","wind","wood"],l=["0","1","2","3","4","5","6","7","8","9"],s=t(24224),f="YYYY-MM-DD HH:mm:SS",d="YYYY-MM-DD";function p(n){try{JSON.parse(n)}catch(e){return!1}return!0}function g(n){return"string"===typeof n}function h(n){return n.split(" ").join("_")}function v(n){return n?n.charAt(0).toUpperCase()+n.slice(1):""}function m(n){return c().unix(n).format("YYYY-MM-DD HH:mm")}function w(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return String((new Date).getTime()*n)}function b(n){return n.charAt(0).toLowerCase()+n.slice(1)}function y(n){if(null===n||"undefined"===typeof n)return"";var e=n.toString().split("."),t=(0,r.Z)(e,2),o=t[0],i=t[1],u=o.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");return i?"".concat(u,".").concat(i):u}function E(n,e){var t,r=e,o=void 0!==r&&null!==r;if(o||(r=2),1===r)t=n;else{var i=n.length,u=n[i-1];t="y"===u&&"day"!==n?"".concat(n.slice(0,i-1),"ies"):"".concat(n,"s"===u?"es":"s")}return o?"".concat(r," ").concat(t):t}function O(n){return null===n||void 0===n?void 0:n.replace(/_/g," ")}function A(n){var e=n.length;return"ies"===n.slice(e-3,e)?"".concat(n.slice(0,e-3),"y"):"es"===n.slice(e-2,e)?n.slice(0,e-2):n.slice(0,e-1)}function T(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return v(O(n.toLowerCase()))}function R(n){return!isNaN(n)}function D(n){var e,t=n.match(/\d+(\.?\d*)%/)||[];return Number(null===(e=t[0])||void 0===e?void 0:e.slice(0,-1))}function P(n){return"".concat(y(function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return Math.round((n||0)*Math.pow(100,e))/100}(n)),"%")}function x(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,t=Math.pow(10,e);return Math.round((n||0)*t)/t}function S(){return"".concat((0,s.mp)(o)," ").concat((0,s.mp)(a))}function C(){return"".concat((0,s.mp)(i)).concat((0,s.mp)(l))}},79274:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/pipelines",function(){return t(5545)}])}},function(n){n.O(0,[5339,2083,2874,9056,8933,9774,2888,179],(function(){return e=79274,n(n.s=e);var e}));var e=n.O();_N_E=e}]);