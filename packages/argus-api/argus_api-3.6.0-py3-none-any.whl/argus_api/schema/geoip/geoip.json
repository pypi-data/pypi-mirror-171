{
  "swagger": "2.0",
  "info": {},
  "basePath": "/",
  "tags": [
    {
      "name": "/geoip/v1"
    }
  ],
  "paths": {
    "/geoip/v1/country": {
      "post": {
        "tags": [
          "/geoip/v1"
        ],
        "summary": "Add new country (DEV)",
        "description": "",
        "operationId": "addCountry",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "in": "body",
            "name": "body",
            "required": false,
            "schema": {
              "$ref": "#/definitions/Country"
            }
          }
        ],
        "responses": {
          "201": {
            "description": "successful operation",
            "schema": {
              "$ref": "#/definitions/ResultStash-Country-single"
            }
          },
          "401": {
            "description": "Authentication failed"
          },
          "403": {
            "description": "Access denied"
          },
          "412": {
            "description": "Validation failed"
          }
        }
      }
    },
    "/geoip/v1/region": {
      "post": {
        "tags": [
          "/geoip/v1"
        ],
        "summary": "Add new region (DEV)",
        "description": "",
        "operationId": "addRegion",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "in": "body",
            "name": "body",
            "required": false,
            "schema": {
              "$ref": "#/definitions/Region"
            }
          }
        ],
        "responses": {
          "201": {
            "description": "successful operation",
            "schema": {
              "$ref": "#/definitions/ResultStash-Region-single"
            }
          },
          "401": {
            "description": "Authentication failed"
          },
          "403": {
            "description": "Access denied"
          },
          "412": {
            "description": "Validation failed"
          }
        }
      }
    },
    "/geoip/v1/location": {
      "post": {
        "tags": [
          "/geoip/v1"
        ],
        "summary": "Add new location (DEV)",
        "description": "",
        "operationId": "addLocation",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "in": "body",
            "name": "body",
            "required": false,
            "schema": {
              "$ref": "#/definitions/GeoLocation"
            }
          }
        ],
        "responses": {
          "201": {
            "description": "successful operation",
            "schema": {
              "$ref": "#/definitions/ResultStash-GeoLocation-single"
            }
          },
          "401": {
            "description": "Authentication failed"
          },
          "403": {
            "description": "Access denied"
          },
          "412": {
            "description": "Validation failed"
          }
        }
      }
    },
    "/geoip/v1/ranges": {
      "post": {
        "tags": [
          "/geoip/v1"
        ],
        "summary": "Add or update IP ranges (DEV)",
        "description": "",
        "operationId": "addOrUpdateRanges",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "in": "body",
            "name": "body",
            "required": false,
            "schema": {
              "type": "array",
              "items": {
                "$ref": "#/definitions/GeoIPRangeRequest"
              }
            }
          }
        ],
        "responses": {
          "201": {
            "description": "successful operation",
            "schema": {
              "$ref": "#/definitions/ResultStash-GeoIPRange-list"
            }
          },
          "401": {
            "description": "Authentication failed"
          },
          "403": {
            "description": "Access denied"
          },
          "412": {
            "description": "Validation failed"
          }
        }
      }
    },
    "/geoip/v1/location/{id}": {
      "get": {
        "tags": [
          "/geoip/v1"
        ],
        "summary": "Lookup location (DEV)",
        "description": "",
        "operationId": "getLocation",
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "Location ID",
            "required": true,
            "type": "integer",
            "format": "int64"
          }
        ],
        "responses": {
          "200": {
            "description": "successful operation",
            "schema": {
              "$ref": "#/definitions/ResultStash-GeoLocation-single"
            }
          },
          "401": {
            "description": "Authentication failed"
          },
          "403": {
            "description": "Access denied"
          },
          "412": {
            "description": "Validation failed"
          }
        }
      }
    },
    "/geoip/v1/ranges/search": {
      "post": {
        "tags": [
          "/geoip/v1"
        ],
        "summary": "Find IP ranges (DEV)",
        "description": "",
        "operationId": "findRanges",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "in": "body",
            "name": "body",
            "description": "Search criteria",
            "required": false,
            "schema": {
              "$ref": "#/definitions/GeoIPRangeSearchCriteria"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "successful operation",
            "schema": {
              "$ref": "#/definitions/ResultStash-GeoIPRange-list"
            }
          },
          "401": {
            "description": "Authentication failed"
          },
          "403": {
            "description": "Access denied"
          },
          "412": {
            "description": "Validation failed"
          }
        }
      }
    },
    "/geoip/v1/ip/{address}": {
      "get": {
        "tags": [
          "/geoip/v1"
        ],
        "summary": "Lookup IP range (DEV)",
        "description": "",
        "operationId": "lookupIP",
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "name": "address",
            "in": "path",
            "description": "IP to search for",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "successful operation",
            "schema": {
              "$ref": "#/definitions/ResultStash-GeoIPRange-single"
            }
          },
          "401": {
            "description": "Authentication failed"
          },
          "403": {
            "description": "Access denied"
          },
          "412": {
            "description": "Validation failed"
          }
        }
      }
    }
  },
  "definitions": {
    "GeoIPRangeSearchCriteria": {
      "type": "object",
      "properties": {
        "countryID": {
          "type": "array",
          "uniqueItems": true,
          "items": {
            "type": "integer",
            "format": "int32"
          }
        },
        "regionID": {
          "type": "array",
          "uniqueItems": true,
          "items": {
            "type": "integer",
            "format": "int32"
          }
        },
        "locationID": {
          "type": "array",
          "uniqueItems": true,
          "items": {
            "type": "integer",
            "format": "int64"
          }
        },
        "rangeID": {
          "type": "array",
          "uniqueItems": true,
          "items": {
            "type": "integer",
            "format": "int64"
          }
        },
        "startIPAddress": {
          "type": "array",
          "uniqueItems": true,
          "items": {
            "$ref": "#/definitions/IPAddress"
          }
        },
        "fromIP": {
          "$ref": "#/definitions/IPAddress"
        },
        "toIP": {
          "$ref": "#/definitions/IPAddress"
        },
        "addressFamily": {
          "type": "string",
          "enum": [
            "IPv4",
            "IPv6"
          ]
        },
        "ipAddress": {
          "type": "array",
          "uniqueItems": true,
          "items": {
            "$ref": "#/definitions/IPAddress"
          }
        },
        "limit": {
          "type": "integer",
          "format": "int32",
          "xml": {
            "attribute": true
          },
          "position": 0,
          "description": "Limit results"
        },
        "offset": {
          "type": "integer",
          "format": "int32",
          "xml": {
            "attribute": true
          },
          "position": 0,
          "description": "Offset results"
        },
        "includeDeleted": {
          "type": "boolean",
          "xml": {
            "attribute": true
          },
          "position": 0,
          "description": "Also include deleted objects (where implemented)"
        },
        "includeFlags": {
          "type": "integer",
          "format": "int64",
          "xml": {
            "attribute": true
          },
          "position": 0,
          "description": "Search objects with these flags set"
        },
        "excludeFlags": {
          "type": "integer",
          "format": "int64",
          "xml": {
            "attribute": true
          },
          "position": 0,
          "description": "Exclude objects with these flags set"
        },
        "sortBy": {
          "type": "array",
          "position": 0,
          "description": "Order results by these properties (prefix with - to sort descending)",
          "items": {
            "type": "string"
          }
        },
        "startTimestamp": {
          "type": "integer",
          "format": "int64",
          "xml": {
            "attribute": true
          },
          "position": 0,
          "description": "Search objects from this timestamp"
        },
        "endTimestamp": {
          "type": "integer",
          "format": "int64",
          "xml": {
            "attribute": true
          },
          "position": 0,
          "description": "Search objects until this timestamp"
        }
      }
    },
    "ResultStash": {
      "properties": {
        "responseCode": {
          "type": "integer",
          "format": "int32",
          "description": "Status code returned from API"
        },
        "limit": {
          "type": "integer",
          "format": "int64",
          "description": "Maximum number of returned results"
        },
        "offset": {
          "type": "integer",
          "format": "int64",
          "description": "Number of skipped results"
        },
        "count": {
          "type": "integer",
          "format": "int64",
          "description": "Number of available results on server"
        },
        "size": {
          "type": "integer",
          "format": "int64",
          "description": "Actual number of returned results"
        },
        "metaData": {
          "type": "object",
          "description": "Additional unstructured meta data associated with response"
        },
        "messages": {
          "type": "array",
          "description": "Contains messages returned from the API, usually error messages",
          "items": {
            "$ref": "#/definitions/ResultMessage"
          }
        },
        "data": {
          "type": "object",
          "description": "Returned results (might be an array or a single object)"
        }
      }
    },
    "ResultStash-GeoIPRange-single": {
      "required": [
        "data"
      ],
      "properties": {
        "responseCode": {
          "type": "integer",
          "format": "int32",
          "description": "Status code returned from API"
        },
        "limit": {
          "type": "integer",
          "format": "int64",
          "description": "Maximum number of returned results"
        },
        "offset": {
          "type": "integer",
          "format": "int64",
          "description": "Number of skipped results"
        },
        "count": {
          "type": "integer",
          "format": "int64",
          "description": "Number of available results on server"
        },
        "size": {
          "type": "integer",
          "format": "int64",
          "description": "Actual number of returned results"
        },
        "metaData": {
          "type": "object",
          "description": "Additional unstructured meta data associated with response"
        },
        "messages": {
          "type": "array",
          "description": "Contains messages returned from the API, usually error messages",
          "items": {
            "$ref": "#/definitions/ResultMessage"
          }
        },
        "data": {
          "description": "Contains a single result",
          "$ref": "#/definitions/GeoIPRange"
        }
      }
    },
    "ResultStash-GeoIPRange-list": {
      "required": [
        "data"
      ],
      "properties": {
        "responseCode": {
          "type": "integer",
          "format": "int32",
          "description": "Status code returned from API"
        },
        "limit": {
          "type": "integer",
          "format": "int64",
          "description": "Maximum number of returned results"
        },
        "offset": {
          "type": "integer",
          "format": "int64",
          "description": "Number of skipped results"
        },
        "count": {
          "type": "integer",
          "format": "int64",
          "description": "Number of available results on server"
        },
        "size": {
          "type": "integer",
          "format": "int64",
          "description": "Actual number of returned results"
        },
        "metaData": {
          "type": "object",
          "description": "Additional unstructured meta data associated with response"
        },
        "messages": {
          "type": "array",
          "description": "Contains messages returned from the API, usually error messages",
          "items": {
            "$ref": "#/definitions/ResultMessage"
          }
        },
        "data": {
          "type": "array",
          "description": "Contains an array of results",
          "items": {
            "$ref": "#/definitions/GeoIPRange"
          }
        }
      }
    },
    "ResultStash-Region-single": {
      "required": [
        "data"
      ],
      "properties": {
        "responseCode": {
          "type": "integer",
          "format": "int32",
          "description": "Status code returned from API"
        },
        "limit": {
          "type": "integer",
          "format": "int64",
          "description": "Maximum number of returned results"
        },
        "offset": {
          "type": "integer",
          "format": "int64",
          "description": "Number of skipped results"
        },
        "count": {
          "type": "integer",
          "format": "int64",
          "description": "Number of available results on server"
        },
        "size": {
          "type": "integer",
          "format": "int64",
          "description": "Actual number of returned results"
        },
        "metaData": {
          "type": "object",
          "description": "Additional unstructured meta data associated with response"
        },
        "messages": {
          "type": "array",
          "description": "Contains messages returned from the API, usually error messages",
          "items": {
            "$ref": "#/definitions/ResultMessage"
          }
        },
        "data": {
          "description": "Contains a single result",
          "$ref": "#/definitions/Region"
        }
      }
    },
    "GeoIPRangeRequest": {
      "type": "object",
      "properties": {
        "fromAddress": {
          "type": "string"
        },
        "toAddress": {
          "type": "string"
        },
        "locationID": {
          "type": "integer",
          "format": "int64"
        }
      }
    },
    "ResultMessage": {
      "type": "object",
      "properties": {
        "message": {
          "type": "string"
        },
        "messageTemplate": {
          "type": "string"
        },
        "type": {
          "type": "string",
          "enum": [
            "FIELD_ERROR",
            "ACTION_ERROR",
            "WARNING",
            "NOTIFICATION",
            "INFO"
          ]
        },
        "field": {
          "type": "string"
        },
        "parameter": {
          "type": "object"
        },
        "timestamp": {
          "type": "integer",
          "format": "int64"
        }
      }
    },
    "IPRange": {
      "type": "object",
      "properties": {
        "fromAddress": {
          "$ref": "#/definitions/IPAddress"
        },
        "toAddress": {
          "$ref": "#/definitions/IPAddress"
        }
      }
    },
    "ResultStash-GeoLocation-single": {
      "required": [
        "data"
      ],
      "properties": {
        "responseCode": {
          "type": "integer",
          "format": "int32",
          "description": "Status code returned from API"
        },
        "limit": {
          "type": "integer",
          "format": "int64",
          "description": "Maximum number of returned results"
        },
        "offset": {
          "type": "integer",
          "format": "int64",
          "description": "Number of skipped results"
        },
        "count": {
          "type": "integer",
          "format": "int64",
          "description": "Number of available results on server"
        },
        "size": {
          "type": "integer",
          "format": "int64",
          "description": "Actual number of returned results"
        },
        "metaData": {
          "type": "object",
          "description": "Additional unstructured meta data associated with response"
        },
        "messages": {
          "type": "array",
          "description": "Contains messages returned from the API, usually error messages",
          "items": {
            "$ref": "#/definitions/ResultMessage"
          }
        },
        "data": {
          "description": "Contains a single result",
          "$ref": "#/definitions/GeoLocation"
        }
      }
    },
    "Country": {
      "type": "object",
      "properties": {
        "id": {
          "type": "integer",
          "format": "int32"
        },
        "countryName": {
          "type": "string"
        },
        "countryCode": {
          "type": "string"
        },
        "lastModified": {
          "type": "integer",
          "format": "int64"
        },
        "flags": {
          "type": "integer",
          "format": "int64"
        },
        "minLocationID": {
          "type": "integer",
          "format": "int64"
        },
        "maxLocationID": {
          "type": "integer",
          "format": "int64"
        },
        "minRegionID": {
          "type": "integer",
          "format": "int32"
        },
        "maxRegionID": {
          "type": "integer",
          "format": "int32"
        }
      }
    },
    "Region": {
      "type": "object",
      "properties": {
        "id": {
          "type": "integer",
          "format": "int32"
        },
        "countryCode": {
          "type": "string"
        },
        "regionCode": {
          "type": "string"
        },
        "regionName": {
          "type": "string"
        },
        "lastModified": {
          "type": "integer",
          "format": "int64"
        },
        "flags": {
          "type": "integer",
          "format": "int64"
        },
        "minLocationID": {
          "type": "integer",
          "format": "int64"
        },
        "maxLocationID": {
          "type": "integer",
          "format": "int64"
        }
      }
    },
    "GeoIPRange": {
      "type": "object",
      "properties": {
        "id": {
          "type": "integer",
          "format": "int64"
        },
        "range": {
          "$ref": "#/definitions/IPRange"
        },
        "locationID": {
          "type": "integer",
          "format": "int64"
        },
        "lastModified": {
          "type": "integer",
          "format": "int64"
        },
        "flags": {
          "type": "integer",
          "format": "int64"
        },
        "latitude": {
          "type": "number",
          "format": "double"
        },
        "longitude": {
          "type": "number",
          "format": "double"
        },
        "deleted": {
          "type": "boolean"
        }
      }
    },
    "GeoLocation": {
      "type": "object",
      "properties": {
        "id": {
          "type": "integer",
          "format": "int64"
        },
        "extID": {
          "type": "integer",
          "format": "int32"
        },
        "countryCode": {
          "type": "string"
        },
        "regionCode": {
          "type": "string"
        },
        "cityName": {
          "type": "string"
        },
        "postalCode": {
          "type": "string"
        },
        "metroCode": {
          "type": "string"
        },
        "areaCode": {
          "type": "string"
        },
        "lastModified": {
          "type": "integer",
          "format": "int64"
        },
        "flags": {
          "type": "integer",
          "format": "int64"
        },
        "latitude": {
          "type": "number",
          "format": "double"
        },
        "longitude": {
          "type": "number",
          "format": "double"
        }
      }
    },
    "IPAddress": {
      "type": "object",
      "properties": {
        "host": {
          "type": "boolean",
          "xml": {
            "attribute": true
          },
          "readOnly": true
        },
        "public": {
          "type": "boolean"
        },
        "ipv6": {
          "type": "boolean",
          "xml": {
            "attribute": true
          },
          "readOnly": true
        },
        "maskBits": {
          "type": "integer",
          "format": "int32"
        },
        "multicast": {
          "type": "boolean"
        },
        "address": {
          "type": "string",
          "xml": {
            "attribute": true
          },
          "readOnly": true
        }
      }
    },
    "ResultStash-Country-single": {
      "required": [
        "data"
      ],
      "properties": {
        "responseCode": {
          "type": "integer",
          "format": "int32",
          "description": "Status code returned from API"
        },
        "limit": {
          "type": "integer",
          "format": "int64",
          "description": "Maximum number of returned results"
        },
        "offset": {
          "type": "integer",
          "format": "int64",
          "description": "Number of skipped results"
        },
        "count": {
          "type": "integer",
          "format": "int64",
          "description": "Number of available results on server"
        },
        "size": {
          "type": "integer",
          "format": "int64",
          "description": "Actual number of returned results"
        },
        "metaData": {
          "type": "object",
          "description": "Additional unstructured meta data associated with response"
        },
        "messages": {
          "type": "array",
          "description": "Contains messages returned from the API, usually error messages",
          "items": {
            "$ref": "#/definitions/ResultMessage"
          }
        },
        "data": {
          "description": "Contains a single result",
          "$ref": "#/definitions/Country"
        }
      }
    }
  }
}