"use strict";(self.webpackChunkquilt_navigator=self.webpackChunkquilt_navigator||[]).push([[8657],{98657:(e,t,n)=>{n.r(t),n.d(t,{default:()=>I});var a,r,l=n(70655),c=n(26470),s=n(66518),u=n.n(s),i=n(82539),o=n(30601),p=n(67294),f=n(5977),b=n(41120),m=n(10529),d=n(95477),h=n(78869),k=n(85693),v=n(43987),w=n(766),x=n(84268),y=n(69534),Z=n(82268),E=n(36473),g=n(15592),D=n(37600),q=n(25170),C=n(29039),S=n(73206),B=n(42059),F=n(21497),O=n(74708),$=b.Z((function(e){return{crumbs:(0,l.pi)((0,l.pi)({},e.typography.body1),{maxWidth:"100%",overflowWrap:"break-word"})}}));function I(e){var t=e.match.params,n=t.bucket,s=t.path,b=void 0===s?"":s,I=e.location,_=F.D(),N=w.D$().noDownload,P=$(),T=y.D$().urls,W=(0,f.k6)(),z=k.S3.use(),L=(0,Z.Z)(I.search).prefix,M=E.Jx(b),R=M?(0,c.basename)(M):n,Y=p.useMemo((function(){return[{label:"Python",hl:"python",contents:u()(a||(a=(0,l.cy)(['\n          import quilt3 as q3\n          b = q3.Bucket("s3://','")\n          # list files\n          b.ls("','")\n          # download\n          b.fetch("','", "./','")\n        '],['\n          import quilt3 as q3\n          b = q3.Bucket("s3://','")\n          # list files\n          b.ls("','")\n          # download\n          b.fetch("','", "./','")\n        '])),n,M,M,R)},{label:"CLI",hl:"bash",contents:u()(r||(r=(0,l.cy)(['\n          # list files\n          aws s3 ls "s3://',"/",'"\n          # download\n          aws s3 cp --recursive "s3://',"/",'" "./','"\n        '],['\n          # list files\n          aws s3 ls "s3://',"/",'"\n          # download\n          aws s3 cp --recursive "s3://',"/",'" "./','"\n        '])),n,M,n,M,R)}]}),[n,M,R]),j=p.useState(null),G=j[0],J=j[1];p.useLayoutEffect((function(){J(null)}),[M,L]);var A=(0,x.et)(B.rx,{s3:z,bucket:n,path:M,prefix:L,prev:G}),H=p.useCallback((function(){v.Z.case({Ok:function(e){e.continuationToken&&J(e)},_:function(){}},A.result)}),[A.result,J]),K=p.useCallback((function(e){W.push(T.bucketDir(n,M,e))}),[W,T,n,M]);return p.createElement(m.Z,{pt:2,pb:4},p.createElement(m.Z,{display:"flex",alignItems:"flex-start",mb:2},p.createElement("div",{className:P.crumbs,onCopy:h.Yn},(0,h.sY)((0,O.Z)({bucket:n,path:M,urls:T,scope:_.scope}))),p.createElement(m.Z,{flexGrow:1}),!N&&p.createElement(D.dN,{suffix:"dir/".concat(n,"/").concat(M),label:"Download directory",newTab:!0})),!_.hideCode&&p.createElement(g.Z,{gutterBottom:!0},Y),A.case({Err:(0,S.Sj)(),Init:function(){return null},_:function(e){var t=v.Z.getPrevResult(e);if(!t)return p.createElement(d.Z,null);var n=function(e,t){var n=e.urls,a=e.scope,r=t.dirs.map((function(e){return{type:"dir",name:E.ge(E.ro(t.path,e)),to:n.bucketDir(t.bucket,e)}})),s=t.files.map((function(e){var a=e.key,r=e.size,l=e.modified,s=e.archived;return{type:"file",name:(0,c.basename)(a),to:n.bucketFile(t.bucket,a),size:r,modified:l,archived:s}})),u=(0,l.ev)((0,l.ev)([],r,!0),s,!0);return""===t.path||t.path===a||t.prefix||u.unshift({type:"dir",name:"..",to:n.bucketDir(t.bucket,E.up(t.path))}),i.Z(o.Z("name"),u)}({urls:T,scope:_.scope},t),a=!v.Z.Ok.is(e);return p.createElement(p.Fragment,null,p.createElement(q.NB,{items:n,locked:a,loadMore:H,truncated:t.truncated,prefixFilter:t.prefix,toolbarContents:p.createElement(q.I4,{key:"".concat(t.bucket,"/").concat(t.path),prefix:t.prefix,setPrefix:K})}),p.createElement(C.Z,{files:t.files,path:M}))}}))}},74708:(e,t,n)=>{n.d(t,{Z:()=>i});var a=n(70655),r=n(26470),l=n(36962),c=n(67294),s=n(78869),u=n(36473);const i=function(e){var t=e.bucket,n=e.path,i=e.urls,o=e.scope,p=e.excludeBase,f=void 0!==p&&p,b=o&&n.startsWith(o),m=b?n.substring(o.length):n,d={label:b?(0,r.basename)(o):"ROOT",path:""},h=f?u.up(m):m,k=(0,a.ev)([d],u.tO(h),!0).map((function(e){var n=e.label,a=e.path;return s.$2.Segment({label:n,to:a===m?void 0:i.bucketDir(t,"".concat(b?o:"").concat(a))})})),v=l.Z(s.$2.Sep(c.createElement(c.Fragment,null," / ")),k);return f?(0,a.ev)((0,a.ev)([],v,!0),[s.$2.Sep(c.createElement(c.Fragment,null," /"))],!1):v}}}]);
//# sourceMappingURL=8657.be97b900c451754e61c6.chunk.js.map