(function(t,e){"object"===typeof exports&&"object"===typeof module?module.exports=e():"function"===typeof define&&define.amd?define([],e):"object"===typeof exports?exports["trame_rca"]=e():t["trame_rca"]=e()})("undefined"!==typeof self?self:this,(function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s="fae3")}({"00ee":function(t,e,n){var r=n("b622"),i=r("toStringTag"),o={};o[i]="z",t.exports="[object z]"===String(o)},"0366":function(t,e,n){var r=n("e330"),i=n("59ed"),o=n("40d5"),s=r(r.bind);t.exports=function(t,e){return i(t),void 0===e?t:o?s(t,e):function(){return t.apply(e,arguments)}}},"04f8":function(t,e,n){var r=n("2d00"),i=n("d039");t.exports=!!Object.getOwnPropertySymbols&&!i((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},"06cf":function(t,e,n){var r=n("83ab"),i=n("c65b"),o=n("d1e7"),s=n("5c6c"),a=n("fc6a"),c=n("a04b"),u=n("1a2d"),f=n("0cfb"),d=Object.getOwnPropertyDescriptor;e.f=r?d:function(t,e){if(t=a(t),e=c(e),f)try{return d(t,e)}catch(n){}if(u(t,e))return s(!i(o.f,t,e),t[e])}},"07fa":function(t,e,n){var r=n("50c4");t.exports=function(t){return r(t.length)}},"0cfb":function(t,e,n){var r=n("83ab"),i=n("d039"),o=n("cc12");t.exports=!r&&!i((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},"0d12":function(t,e,n){t.exports={container:"style_container_30yqq",inside:"style_inside_2PhAt"}},"0d51":function(t,e){var n=String;t.exports=function(t){try{return n(t)}catch(e){return"Object"}}},"13d2":function(t,e,n){var r=n("d039"),i=n("1626"),o=n("1a2d"),s=n("83ab"),a=n("5e77").CONFIGURABLE,c=n("8925"),u=n("69f3"),f=u.enforce,d=u.get,l=Object.defineProperty,p=s&&!r((function(){return 8!==l((function(){}),"length",{value:8}).length})),h=String(String).split("String"),v=t.exports=function(t,e,n){"Symbol("===String(e).slice(0,7)&&(e="["+String(e).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),n&&n.getter&&(e="get "+e),n&&n.setter&&(e="set "+e),(!o(t,"name")||a&&t.name!==e)&&(s?l(t,"name",{value:e,configurable:!0}):t.name=e),p&&n&&o(n,"arity")&&t.length!==n.arity&&l(t,"length",{value:n.arity});try{n&&o(n,"constructor")&&n.constructor?s&&l(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(i){}var r=f(t);return o(r,"source")||(r.source=h.join("string"==typeof e?e:"")),t};Function.prototype.toString=v((function(){return i(this)&&d(this).source||c(this)}),"toString")},"14d9":function(t,e,n){"use strict";var r=n("23e7"),i=n("7b0b"),o=n("07fa"),s=n("3a34"),a=n("3511"),c=n("d039"),u=c((function(){return 4294967297!==[].push.call({length:4294967296},1)})),f=!function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(t){return t instanceof TypeError}}();r({target:"Array",proto:!0,arity:1,forced:u||f},{push:function(t){var e=i(this),n=o(e),r=arguments.length;a(n+r);for(var c=0;c<r;c++)e[n]=arguments[c],n++;return s(e,n),n}})},1626:function(t,e,n){var r=n("8ea1"),i=r.all;t.exports=r.IS_HTMLDDA?function(t){return"function"==typeof t||t===i}:function(t){return"function"==typeof t}},"182d":function(t,e,n){var r=n("f8cd"),i=RangeError;t.exports=function(t,e){var n=r(t);if(n%e)throw i("Wrong offset");return n}},"1a2d":function(t,e,n){var r=n("e330"),i=n("7b0b"),o=r({}.hasOwnProperty);t.exports=Object.hasOwn||function(t,e){return o(i(t),e)}},"1d02":function(t,e,n){"use strict";var r=n("ebb5"),i=n("a258").findLastIndex,o=r.aTypedArray,s=r.exportTypedArrayMethod;s("findLastIndex",(function(t){return i(o(this),t,arguments.length>1?arguments[1]:void 0)}))},"1d80":function(t,e,n){var r=n("7234"),i=TypeError;t.exports=function(t){if(r(t))throw i("Can't call method on "+t);return t}},"23cb":function(t,e,n){var r=n("5926"),i=Math.max,o=Math.min;t.exports=function(t,e){var n=r(t);return n<0?i(n+e,0):o(n,e)}},"23e7":function(t,e,n){var r=n("da84"),i=n("06cf").f,o=n("9112"),s=n("cb2d"),a=n("6374"),c=n("e893"),u=n("94ca");t.exports=function(t,e){var n,f,d,l,p,h,v=t.target,m=t.global,y=t.stat;if(f=m?r:y?r[v]||a(v,{}):(r[v]||{}).prototype,f)for(d in e){if(p=e[d],t.dontCallGetSet?(h=i(f,d),l=h&&h.value):l=f[d],n=u(m?d:v+(y?".":"#")+d,t.forced),!n&&void 0!==l){if(typeof p==typeof l)continue;c(p,l)}(t.sham||l&&l.sham)&&o(p,"sham",!0),s(f,d,p,t)}}},"241c":function(t,e,n){var r=n("ca84"),i=n("7839"),o=i.concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,o)}},"2d00":function(t,e,n){var r,i,o=n("da84"),s=n("342f"),a=o.process,c=o.Deno,u=a&&a.versions||c&&c.version,f=u&&u.v8;f&&(r=f.split("."),i=r[0]>0&&r[0]<4?1:+(r[0]+r[1])),!i&&s&&(r=s.match(/Edge\/(\d+)/),(!r||r[1]>=74)&&(r=s.match(/Chrome\/(\d+)/),r&&(i=+r[1]))),t.exports=i},"342f":function(t,e,n){var r=n("d066");t.exports=r("navigator","userAgent")||""},3511:function(t,e){var n=TypeError,r=9007199254740991;t.exports=function(t){if(t>r)throw n("Maximum allowed index exceeded");return t}},"3a34":function(t,e,n){"use strict";var r=n("83ab"),i=n("e8b5"),o=TypeError,s=Object.getOwnPropertyDescriptor,a=r&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(t){return t instanceof TypeError}}();t.exports=a?function(t,e){if(i(t)&&!s(t,"length").writable)throw o("Cannot set read only .length");return t.length=e}:function(t,e){return t.length=e}},"3a9b":function(t,e,n){var r=n("e330");t.exports=r({}.isPrototypeOf)},"3bbe":function(t,e,n){var r=n("1626"),i=String,o=TypeError;t.exports=function(t){if("object"==typeof t||r(t))return t;throw o("Can't set "+i(t)+" as a prototype")}},"3c5d":function(t,e,n){"use strict";var r=n("da84"),i=n("c65b"),o=n("ebb5"),s=n("07fa"),a=n("182d"),c=n("7b0b"),u=n("d039"),f=r.RangeError,d=r.Int8Array,l=d&&d.prototype,p=l&&l.set,h=o.aTypedArray,v=o.exportTypedArrayMethod,m=!u((function(){var t=new Uint8ClampedArray(2);return i(p,t,{length:1,0:3},1),3!==t[1]})),y=m&&o.NATIVE_ARRAY_BUFFER_VIEWS&&u((function(){var t=new d(2);return t.set(1),t.set("2",1),0!==t[0]||2!==t[1]}));v("set",(function(t){h(this);var e=a(arguments.length>1?arguments[1]:void 0,1),n=c(t);if(m)return i(p,this,n,e);var r=this.length,o=s(n),u=0;if(o+e>r)throw f("Wrong length");while(u<o)this[e+u]=n[u++]}),!m||y)},"40d5":function(t,e,n){var r=n("d039");t.exports=!r((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}))},"44ad":function(t,e,n){var r=n("e330"),i=n("d039"),o=n("c6b6"),s=Object,a=r("".split);t.exports=i((function(){return!s("z").propertyIsEnumerable(0)}))?function(t){return"String"==o(t)?a(t,""):s(t)}:s},"485a":function(t,e,n){var r=n("c65b"),i=n("1626"),o=n("861d"),s=TypeError;t.exports=function(t,e){var n,a;if("string"===e&&i(n=t.toString)&&!o(a=r(n,t)))return a;if(i(n=t.valueOf)&&!o(a=r(n,t)))return a;if("string"!==e&&i(n=t.toString)&&!o(a=r(n,t)))return a;throw s("Can't convert object to primitive value")}},"4b11":function(t,e){t.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},"4d64":function(t,e,n){var r=n("fc6a"),i=n("23cb"),o=n("07fa"),s=function(t){return function(e,n,s){var a,c=r(e),u=o(c),f=i(s,u);if(t&&n!=n){while(u>f)if(a=c[f++],a!=a)return!0}else for(;u>f;f++)if((t||f in c)&&c[f]===n)return t||f||0;return!t&&-1}};t.exports={includes:s(!0),indexOf:s(!1)}},"50c4":function(t,e,n){var r=n("5926"),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},5692:function(t,e,n){var r=n("c430"),i=n("c6cd");(t.exports=function(t,e){return i[t]||(i[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.25.5",mode:r?"pure":"global",copyright:"Â© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.25.5/LICENSE",source:"https://github.com/zloirock/core-js"})},"56ef":function(t,e,n){var r=n("d066"),i=n("e330"),o=n("241c"),s=n("7418"),a=n("825a"),c=i([].concat);t.exports=r("Reflect","ownKeys")||function(t){var e=o.f(a(t)),n=s.f;return n?c(e,n(t)):e}},5926:function(t,e,n){var r=n("b42e");t.exports=function(t){var e=+t;return e!==e||0===e?0:r(e)}},"59ed":function(t,e,n){var r=n("1626"),i=n("0d51"),o=TypeError;t.exports=function(t){if(r(t))return t;throw o(i(t)+" is not a function")}},"5c6c":function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},"5e77":function(t,e,n){var r=n("83ab"),i=n("1a2d"),o=Function.prototype,s=r&&Object.getOwnPropertyDescriptor,a=i(o,"name"),c=a&&"something"===function(){}.name,u=a&&(!r||r&&s(o,"name").configurable);t.exports={EXISTS:a,PROPER:c,CONFIGURABLE:u}},6374:function(t,e,n){var r=n("da84"),i=Object.defineProperty;t.exports=function(t,e){try{i(r,t,{value:e,configurable:!0,writable:!0})}catch(n){r[t]=e}return e}},"69f3":function(t,e,n){var r,i,o,s=n("cdce"),a=n("da84"),c=n("861d"),u=n("9112"),f=n("1a2d"),d=n("c6cd"),l=n("f772"),p=n("d012"),h="Object already initialized",v=a.TypeError,m=a.WeakMap,y=function(t){return o(t)?i(t):r(t,{})},b=function(t){return function(e){var n;if(!c(e)||(n=i(e)).type!==t)throw v("Incompatible receiver, "+t+" required");return n}};if(s||d.state){var g=d.state||(d.state=new m);g.get=g.get,g.has=g.has,g.set=g.set,r=function(t,e){if(g.has(t))throw v(h);return e.facade=t,g.set(t,e),e},i=function(t){return g.get(t)||{}},o=function(t){return g.has(t)}}else{var S=l("state");p[S]=!0,r=function(t,e){if(f(t,S))throw v(h);return e.facade=t,u(t,S,e),e},i=function(t){return f(t,S)?t[S]:{}},o=function(t){return f(t,S)}}t.exports={set:r,get:i,has:o,enforce:y,getterFor:b}},7234:function(t,e){t.exports=function(t){return null===t||void 0===t}},7418:function(t,e){e.f=Object.getOwnPropertySymbols},7839:function(t,e){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"7b0b":function(t,e,n){var r=n("1d80"),i=Object;t.exports=function(t){return i(r(t))}},"7d7e":function(t,e,n){var r=n("40d5"),i=Function.prototype,o=i.call,s=r&&i.bind.bind(o,o);t.exports=function(t){return r?s(t):function(){return o.apply(t,arguments)}}},"825a":function(t,e,n){var r=n("861d"),i=String,o=TypeError;t.exports=function(t){if(r(t))return t;throw o(i(t)+" is not an object")}},"83ab":function(t,e,n){var r=n("d039");t.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},"861d":function(t,e,n){var r=n("1626"),i=n("8ea1"),o=i.all;t.exports=i.IS_HTMLDDA?function(t){return"object"==typeof t?null!==t:r(t)||t===o}:function(t){return"object"==typeof t?null!==t:r(t)}},8925:function(t,e,n){var r=n("e330"),i=n("1626"),o=n("c6cd"),s=r(Function.toString);i(o.inspectSource)||(o.inspectSource=function(t){return s(t)}),t.exports=o.inspectSource},"8ea1":function(t,e){var n="object"==typeof document&&document.all,r="undefined"==typeof n&&void 0!==n;t.exports={all:n,IS_HTMLDDA:r}},"907a":function(t,e,n){"use strict";var r=n("ebb5"),i=n("07fa"),o=n("5926"),s=r.aTypedArray,a=r.exportTypedArrayMethod;a("at",(function(t){var e=s(this),n=i(e),r=o(t),a=r>=0?r:n+r;return a<0||a>=n?void 0:e[a]}))},"90e3":function(t,e,n){var r=n("e330"),i=0,o=Math.random(),s=r(1..toString);t.exports=function(t){return"Symbol("+(void 0===t?"":t)+")_"+s(++i+o,36)}},9112:function(t,e,n){var r=n("83ab"),i=n("9bf2"),o=n("5c6c");t.exports=r?function(t,e,n){return i.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},"94ca":function(t,e,n){var r=n("d039"),i=n("1626"),o=/#|\.prototype\./,s=function(t,e){var n=c[a(t)];return n==f||n!=u&&(i(e)?r(e):!!e)},a=s.normalize=function(t){return String(t).replace(o,".").toLowerCase()},c=s.data={},u=s.NATIVE="N",f=s.POLYFILL="P";t.exports=s},"986a":function(t,e,n){"use strict";var r=n("ebb5"),i=n("a258").findLast,o=r.aTypedArray,s=r.exportTypedArrayMethod;s("findLast",(function(t){return i(o(this),t,arguments.length>1?arguments[1]:void 0)}))},"9bf2":function(t,e,n){var r=n("83ab"),i=n("0cfb"),o=n("aed9"),s=n("825a"),a=n("a04b"),c=TypeError,u=Object.defineProperty,f=Object.getOwnPropertyDescriptor,d="enumerable",l="configurable",p="writable";e.f=r?o?function(t,e,n){if(s(t),e=a(e),s(n),"function"===typeof t&&"prototype"===e&&"value"in n&&p in n&&!n[p]){var r=f(t,e);r&&r[p]&&(t[e]=n.value,n={configurable:l in n?n[l]:r[l],enumerable:d in n?n[d]:r[d],writable:!1})}return u(t,e,n)}:u:function(t,e,n){if(s(t),e=a(e),s(n),i)try{return u(t,e,n)}catch(r){}if("get"in n||"set"in n)throw c("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},a04b:function(t,e,n){var r=n("c04e"),i=n("d9b5");t.exports=function(t){var e=r(t,"string");return i(e)?e:e+""}},a258:function(t,e,n){var r=n("0366"),i=n("44ad"),o=n("7b0b"),s=n("07fa"),a=function(t){var e=1==t;return function(n,a,c){var u,f,d=o(n),l=i(d),p=r(a,c),h=s(l);while(h-- >0)if(u=l[h],f=p(u,h,d),f)switch(t){case 0:return u;case 1:return h}return e?-1:void 0}};t.exports={findLast:a(0),findLastIndex:a(1)}},aed9:function(t,e,n){var r=n("83ab"),i=n("d039");t.exports=r&&i((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},b42e:function(t,e){var n=Math.ceil,r=Math.floor;t.exports=Math.trunc||function(t){var e=+t;return(e>0?r:n)(e)}},b622:function(t,e,n){var r=n("da84"),i=n("5692"),o=n("1a2d"),s=n("90e3"),a=n("04f8"),c=n("fdbf"),u=i("wks"),f=r.Symbol,d=f&&f["for"],l=c?f:f&&f.withoutSetter||s;t.exports=function(t){if(!o(u,t)||!a&&"string"!=typeof u[t]){var e="Symbol."+t;a&&o(f,t)?u[t]=f[t]:u[t]=c&&d?d(e):l(e)}return u[t]}},c04e:function(t,e,n){var r=n("c65b"),i=n("861d"),o=n("d9b5"),s=n("dc4a"),a=n("485a"),c=n("b622"),u=TypeError,f=c("toPrimitive");t.exports=function(t,e){if(!i(t)||o(t))return t;var n,c=s(t,f);if(c){if(void 0===e&&(e="default"),n=r(c,t,e),!i(n)||o(n))return n;throw u("Can't convert object to primitive value")}return void 0===e&&(e="number"),a(t,e)}},c430:function(t,e){t.exports=!1},c65b:function(t,e,n){var r=n("40d5"),i=Function.prototype.call;t.exports=r?i.bind(i):function(){return i.apply(i,arguments)}},c6b6:function(t,e,n){var r=n("7d7e"),i=r({}.toString),o=r("".slice);t.exports=function(t){return o(i(t),8,-1)}},c6cd:function(t,e,n){var r=n("da84"),i=n("6374"),o="__core-js_shared__",s=r[o]||i(o,{});t.exports=s},c8ba:function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}t.exports=n},ca84:function(t,e,n){var r=n("e330"),i=n("1a2d"),o=n("fc6a"),s=n("4d64").indexOf,a=n("d012"),c=r([].push);t.exports=function(t,e){var n,r=o(t),u=0,f=[];for(n in r)!i(a,n)&&i(r,n)&&c(f,n);while(e.length>u)i(r,n=e[u++])&&(~s(f,n)||c(f,n));return f}},cb2d:function(t,e,n){var r=n("1626"),i=n("9bf2"),o=n("13d2"),s=n("6374");t.exports=function(t,e,n,a){a||(a={});var c=a.enumerable,u=void 0!==a.name?a.name:e;if(r(n)&&o(n,u,a),a.global)c?t[e]=n:s(e,n);else{try{a.unsafe?t[e]&&(c=!0):delete t[e]}catch(f){}c?t[e]=n:i.f(t,e,{value:n,enumerable:!1,configurable:!a.nonConfigurable,writable:!a.nonWritable})}return t}},cc12:function(t,e,n){var r=n("da84"),i=n("861d"),o=r.document,s=i(o)&&i(o.createElement);t.exports=function(t){return s?o.createElement(t):{}}},cdce:function(t,e,n){var r=n("da84"),i=n("1626"),o=r.WeakMap;t.exports=i(o)&&/native code/.test(String(o))},d012:function(t,e){t.exports={}},d039:function(t,e){t.exports=function(t){try{return!!t()}catch(e){return!0}}},d066:function(t,e,n){var r=n("da84"),i=n("1626"),o=function(t){return i(t)?t:void 0};t.exports=function(t,e){return arguments.length<2?o(r[t]):r[t]&&r[t][e]}},d1e7:function(t,e,n){"use strict";var r={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,o=i&&!r.call({1:2},1);e.f=o?function(t){var e=i(this,t);return!!e&&e.enumerable}:r},d2bb:function(t,e,n){var r=n("e330"),i=n("825a"),o=n("3bbe");t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{t=r(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set),t(n,[]),e=n instanceof Array}catch(s){}return function(n,r){return i(n),o(r),e?t(n,r):n.__proto__=r,n}}():void 0)},d9b5:function(t,e,n){var r=n("d066"),i=n("1626"),o=n("3a9b"),s=n("fdbf"),a=Object;t.exports=s?function(t){return"symbol"==typeof t}:function(t){var e=r("Symbol");return i(e)&&o(e.prototype,a(t))}},da84:function(t,e,n){(function(e){var n=function(t){return t&&t.Math==Math&&t};t.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof e&&e)||function(){return this}()||Function("return this")()}).call(this,n("c8ba"))},dc4a:function(t,e,n){var r=n("59ed"),i=n("7234");t.exports=function(t,e){var n=t[e];return i(n)?void 0:r(n)}},e163:function(t,e,n){var r=n("1a2d"),i=n("1626"),o=n("7b0b"),s=n("f772"),a=n("e177"),c=s("IE_PROTO"),u=Object,f=u.prototype;t.exports=a?u.getPrototypeOf:function(t){var e=o(t);if(r(e,c))return e[c];var n=e.constructor;return i(n)&&e instanceof n?n.prototype:e instanceof u?f:null}},e177:function(t,e,n){var r=n("d039");t.exports=!r((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},e330:function(t,e,n){var r=n("c6b6"),i=n("7d7e");t.exports=function(t){if("Function"===r(t))return i(t)}},e893:function(t,e,n){var r=n("1a2d"),i=n("56ef"),o=n("06cf"),s=n("9bf2");t.exports=function(t,e,n){for(var a=i(e),c=s.f,u=o.f,f=0;f<a.length;f++){var d=a[f];r(t,d)||n&&r(n,d)||c(t,d,u(e,d))}}},e8b5:function(t,e,n){var r=n("c6b6");t.exports=Array.isArray||function(t){return"Array"==r(t)}},ebb5:function(t,e,n){"use strict";var r,i,o,s=n("4b11"),a=n("83ab"),c=n("da84"),u=n("1626"),f=n("861d"),d=n("1a2d"),l=n("f5df"),p=n("0d51"),h=n("9112"),v=n("cb2d"),m=n("9bf2").f,y=n("3a9b"),b=n("e163"),g=n("d2bb"),S=n("b622"),w=n("90e3"),x=n("69f3"),E=x.enforce,T=x.get,_=c.Int8Array,A=_&&_.prototype,O=c.Uint8ClampedArray,j=O&&O.prototype,C=_&&b(_),U=A&&b(A),P=Object.prototype,z=c.TypeError,M=S("toStringTag"),I=w("TYPED_ARRAY_TAG"),k="TypedArrayConstructor",R=s&&!!g&&"Opera"!==l(c.opera),D=!1,L={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},F={BigInt64Array:8,BigUint64Array:8},B=function(t){if(!f(t))return!1;var e=l(t);return"DataView"===e||d(L,e)||d(F,e)},$=function(t){var e=b(t);if(f(e)){var n=T(e);return n&&d(n,k)?n[k]:$(e)}},W=function(t){if(!f(t))return!1;var e=l(t);return d(L,e)||d(F,e)},N=function(t){if(W(t))return t;throw z("Target is not a typed array")},V=function(t){if(u(t)&&(!g||y(C,t)))return t;throw z(p(t)+" is not a typed array constructor")},q=function(t,e,n,r){if(a){if(n)for(var i in L){var o=c[i];if(o&&d(o.prototype,t))try{delete o.prototype[t]}catch(s){try{o.prototype[t]=e}catch(u){}}}U[t]&&!n||v(U,t,n?e:R&&A[t]||e,r)}},Y=function(t,e,n){var r,i;if(a){if(g){if(n)for(r in L)if(i=c[r],i&&d(i,t))try{delete i[t]}catch(o){}if(C[t]&&!n)return;try{return v(C,t,n?e:R&&C[t]||e)}catch(o){}}for(r in L)i=c[r],!i||i[t]&&!n||v(i,t,e)}};for(r in L)i=c[r],o=i&&i.prototype,o?E(o)[k]=i:R=!1;for(r in F)i=c[r],o=i&&i.prototype,o&&(E(o)[k]=i);if((!R||!u(C)||C===Function.prototype)&&(C=function(){throw z("Incorrect invocation")},R))for(r in L)c[r]&&g(c[r],C);if((!R||!U||U===P)&&(U=C.prototype,R))for(r in L)c[r]&&g(c[r].prototype,U);if(R&&b(j)!==U&&g(j,U),a&&!d(U,M))for(r in D=!0,m(U,M,{get:function(){return f(this)?this[I]:void 0}}),L)c[r]&&h(c[r],I,r);t.exports={NATIVE_ARRAY_BUFFER_VIEWS:R,TYPED_ARRAY_TAG:D&&I,aTypedArray:N,aTypedArrayConstructor:V,exportTypedArrayMethod:q,exportTypedArrayStaticMethod:Y,getTypedArrayConstructor:$,isView:B,isTypedArray:W,TypedArray:C,TypedArrayPrototype:U}},efcf:function(t,e,n){"use strict";var r=n("0d12"),i=n.n(r);n.d(e,"default",(function(){return i.a}))},f5df:function(t,e,n){var r=n("00ee"),i=n("1626"),o=n("c6b6"),s=n("b622"),a=s("toStringTag"),c=Object,u="Arguments"==o(function(){return arguments}()),f=function(t,e){try{return t[e]}catch(n){}};t.exports=r?o:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=f(e=c(t),a))?n:u?o(e):"Object"==(r=o(e))&&i(e.callee)?"Arguments":r}},f772:function(t,e,n){var r=n("5692"),i=n("90e3"),o=r("keys");t.exports=function(t){return o[t]||(o[t]=i(t))}},f8cd:function(t,e,n){var r=n("5926"),i=RangeError;t.exports=function(t){var e=r(t);if(e<0)throw i("The argument can't be less than 0");return e}},fae3:function(t,e,n){"use strict";if(n.r(e),n.d(e,"install",(function(){return N})),"undefined"!==typeof window){var r=window.document.currentScript,i=r&&r.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);i&&(n.p=i[1])}var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticStyle:{width:"100%",height:"100%"}},[n("image-display-area",{attrs:{name:t.name,origin:t.origin,poolSize:4}}),n("video-display-area",{attrs:{name:t.name,origin:t.origin}})],1)},s=[],a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("img",{directives:[{name:"show",rawName:"v-show",value:t.hasContent,expression:"hasContent"}],attrs:{src:t.displayURL}})},c=[];n("14d9");class u{constructor(t){this.vueComponent=t,this.img=new Image,this.url="",this.blob=null,this.img.addEventListener("load",()=>{this.vueComponent.displayURL=this.url,this.vueComponent.hasContent=!0})}update(t,e){window.URL.revokeObjectURL(this.url),this.blob=new Blob([e],{type:t}),this.url=URL.createObjectURL(this.blob),this.img.src=this.url}}var f={name:"ImageDisplayArea",props:{name:{type:String,default:"default"},origin:{type:String,default:"anonymous"},poolSize:{type:Number,default:4}},watch:{poolSize(){this.updatePoolSize()}},data(){return{hasContent:!1,displayURL:""}},methods:{resetContent(){this.hasContent=!1},updatePoolSize(){while(this.frames.length<this.poolSize)this.frames.push(new u(this));while(this.frames.length>this.poolSize)this.frames.pop()}},created(){this.frames=[],this.nextFrameIndex=0,this.updatePoolSize(),this.wslinkSubscription=null,this.onImage=([{name:t,meta:e,content:n}])=>{if(this.name===t)if("image/jpeg"===e.type){this.nextFrameIndex=(this.nextFrameIndex+1)%this.frames.length;const t=this.frames[this.nextFrameIndex];t.update(e.type,n)}else this.hasContent=!1},this.trame&&(this.wslinkSubscription=this.trame.client.getConnection().getSession().subscribe("trame.rca.topic.stream",this.onImage))},beforeUnmount(){this.wslinkSubscription&&this.trame&&(this.trame.client.getConnection().getSession().unsubscribe(this.wslinkSubscription),this.wslinkSubscription=null)},inject:["trame"]},d=f;function l(t,e,n,r,i,o,s,a){var c,u="function"===typeof t?t.options:t;if(e&&(u.render=e,u.staticRenderFns=n,u._compiled=!0),r&&(u.functional=!0),o&&(u._scopeId="data-v-"+o),s?(c=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),i&&i.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(s)},u._ssrRegister=c):i&&(c=a?function(){i.call(this,(u.functional?this.parent:this).$root.$options.shadowRoot)}:i),c)if(u.functional){u._injectStyles=c;var f=u.render;u.render=function(t,e){return c.call(e),f(t,e)}}else{var d=u.beforeCreate;u.beforeCreate=d?[].concat(d,c):[c]}return{exports:t,options:u}}var p=l(d,a,c,!1,null,null,null),h=p.exports,v=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("video",{directives:[{name:"show",rawName:"v-show",value:t.hasContent,expression:"hasContent"}],attrs:{autoplay:"autoplay",muted:"muted"},domProps:{muted:!0}},[t._v(" Your browser does not support the video tag. ")])},m=[];n("907a"),n("986a"),n("1d02"),n("3c5d");class y{constructor(t,e="video/webm; codecs=vp09.00.10.08"){this.videoElement=t,this.mime=e,this.sourceBuffer=null,this.mediaSource=null,this.initSegment=null,this.mediaSegments=[],this.loaded=0,"MediaSource"in window?(this.mediaSource=new MediaSource,this.videoElement.src=URL.createObjectURL(this.mediaSource),this.mediaSource.addEventListener("sourceopen",()=>{MediaSource.isTypeSupported(this.mime)?this.initSourceBuffer():console.error("Unsupported MIME type or codec: "+this.mime)})):console.error("The Media Source Extensions API is not supported.")}initSourceBuffer(){this.sourceBuffer=this.mediaSource.addSourceBuffer(this.mime),this.initSegment?this.sourceBuffer.appendBuffer(this.initSegment):console.error("Need initialization segment"),this.sourceBuffer.onupdateend=()=>{this.mediaSegments.length&&(this.sourceBuffer.appendBuffer(this.mediaSegments.shift()),this.loaded+=1)}}queueChunk(t){"open"===this.mediaSource.readyState&&this.sourceBuffer&&!1===this.sourceBuffer.updating?(this.sourceBuffer.appendBuffer(t),this.loaded+=1):this.mediaSegments.push(t)}exit(){this.sourceBuffer.abort(),URL.revokeObjectURL(this.videoElement.src)}}var b={name:"VideoDisplayArea",props:{name:{type:String,default:"default"},origin:{type:String,default:"anonymous"}},data(){return{hasContent:!1,loaded:0,received:0}},methods:{requestInitializationSegment(){this.rcaPushSize&&this.rcaPushSize({videoHeader:1})}},created(){this.pushChunk=(t,e)=>{const n=Array.from(new Uint8Array(t).slice(0,4)).map(t=>t.toString(16)).join("");"1a45dfa3"==n&&e.includes("webm")?(console.log("detected ebml fourcc"),this.decoder&&this.decoder.exit(),this.decoder=new y(this.$el),this.decoder.initSegment=new Uint8Array(t)):this.decoder.mime!==e?(console.log("detected mime change"),this.requestInitializationSegment()):(this.decoder.queueChunk(t),this.loaded=this.decoder.loaded,this.hasContent=!0)}},mounted(){this.onChunkAvailable=([{name:t,meta:e,content:n}])=>{this.name===t&&e.type.includes("video/")&&(this.received+=1,n.arrayBuffer().then(t=>this.pushChunk(t,e.type)))},this.trame&&(this.wslinkSubscription=this.trame.client.getConnection().getSession().subscribe("trame.rca.topic.stream",this.onChunkAvailable),this.requestInitializationSegment())},beforeUnmount(){this.wslinkSubscription&&this.trame&&(this.trame.client.getConnection().getSession().unsubscribe(this.wslinkSubscription),this.wslinkSubscription=null,this.decoder.exit())},inject:["trame","rcaPushSize"]},g=b,S=l(g,v,m,!1,null,null,null),w=S.exports,x={name:"DisplayArea",components:{ImageDisplayArea:h,VideoDisplayArea:w},props:{name:{type:String,default:"default"},origin:{type:String,default:"anonymous"}}},E=x,T=l(E,o,s,!1,null,null,null),_=T.exports,A=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-col",{staticStyle:{width:"100%",height:"100%",position:"relative"}},[n("v-row",{staticClass:"text-subtitle-2",staticStyle:{position:"absolute",top:"0",left:"0",width:"100%","z-index":"1"}},[n("v-icon",[t._v("mdi-gauge")]),n("v-spacer"),n("div",[t._v(" "+t._s(t.avg.toFixed(1))+" fps ")]),n("v-spacer"),n("v-icon",[t._v("mdi-timeline-clock-outline")]),n("v-spacer"),n("div",[t._v(" "+t._s(t.delta.toFixed(2))+" fps ")]),n("v-spacer")],1),n("canvas",{staticClass:"js-canvas",staticStyle:{position:"absolute",left:"0",top:"0"},attrs:{width:t.cw,height:t.ch}})],1)},O=[];class j{constructor(t=255,e=10,n=1e3){this.windowSize=t,this.windowStatSize=e,this.newInteractionThreshold=n,this.lastTS=0,this.serverTime=[],this.clientTimes=[],this.statWindow=[]}trim(){while(this.serverTime.length>this.windowSize)this.serverTime.shift(),this.clientTimes.shift();while(this.statWindow.length>this.windowStatSize)this.statWindow.shift()}compute(){if(this.statWindow.length<2)return null;const t=this.statWindow[0],e=this.statWindow[this.statWindow.length-1],n=(e-t)/(this.statWindow.length-1),r=1e3/n,i=[],o=[],s=[0,0];let a=this.clientTimes[0],c=this.serverTime[0];for(let u=0;u<this.clientTimes.length;u++){const t=this.clientTimes[u]-a,e=this.serverTime[u]-c;i.push(t),o.push(e),a+=n,c+=n;const r=t<e?t:e,f=t>e?t:e;s[0]>r&&(s[0]=r),s[1]<f&&(s[1]=f)}return{avgFps:r,client:i,server:o,minMax:s}}addEntry(t){const e=Date.now();return this.serverTime.push(t),this.clientTimes.push(e),e-this.lastTS<this.newInteractionThreshold?this.statWindow.push(e):this.statWindow.length=0,this.lastTS=e,this.trim(),this.compute()}}var C={name:"FpsDisplay",props:{name:{type:String,default:"default"},fpsDelta:{type:Number,default:4}},data(){return{cw:200,ch:200,avg:30,delta:2}},methods:{draw(t,e,n="#1DE9B688",r="#EF9A9A"){if(!this.$el)return;const{cw:i,ch:o}=this,s=this.$el.querySelector(".js-canvas"),a=s.getContext("2d"),c=Math.floor(.5*o+.5),u=c/(1001*this.fpsDelta),f=i/(t.length-2);a.clearRect(0,0,i,o),a.strokeStyle="black",a.beginPath(),a.moveTo(0,c),a.lineTo(i,c),a.stroke(),a.strokeStyle="#eee";for(let d=0;d<this.fpsDelta;d++)a.beginPath(),a.moveTo(0,c+1e3*(d+1)*u),a.lineTo(i,c+1e3*(d+1)*u),a.stroke(),a.beginPath(),a.moveTo(0,c-1e3*(d+1)*u),a.lineTo(i,c-1e3*(d+1)*u),a.stroke();a.strokeStyle=n,a.lineWidth=8,a.beginPath(),a.moveTo(0,c-u*t[1]);for(let d=2;d<t.length;d++)a.lineTo((d-1)*f,c-u*t[d]);a.stroke(),a.strokeStyle=r,a.lineWidth=2,a.beginPath(),a.moveTo(0,c-u*e[1]);for(let d=2;d<e.length;d++)a.lineTo((d-1)*f,c-u*e[d]);a.stroke()}},created(){this.monitor=new j,this.wslinkSubscription=null,this.onStreamPacket=([{name:t,meta:e}])=>{if(this.name===t){const t=this.monitor.addEntry(e.st);t&&(this.avg=t.avgFps,this.delta=1e3/(t.minMax[1]-t.minMax[0]),this.draw(t.client,t.server))}},this.trame&&(this.wslinkSubscription=this.trame.client.getConnection().getSession().subscribe("trame.rca.topic.stream",this.onStreamPacket)),this.observer=new ResizeObserver(()=>{if(!this.$el)return;const{width:t,height:e}=this.$el.getBoundingClientRect();this.cw=t,this.ch=e})},mounted(){this.observer.observe(this.$el)},beforeUnmount(){this.observer.unobserve(this.$el),this.wslinkSubscription&&this.trame&&(this.trame.client.getConnection().getSession().unsubscribe(this.wslinkSubscription),this.wslinkSubscription=null)},inject:["trame"]},U=C,P=l(U,A,O,!1,null,null,null),z=P.exports,M=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:t.$style.container,on:{mousedown:t.onMouseDown}},[n("div",{class:t.$style.inside},[n("display-area",{attrs:{name:t.name,origin:t.origin}}),t._t("default")],2)])},I=[];const k=Promise.resolve(!0);var R={name:"RemoteControlledArea",props:{name:{type:String,default:"default"},origin:{type:String,default:"anonymous"}},methods:{pushSize(t){this.trame&&(this.readySizeUpdate?(this.readySizeUpdate=!1,this.pendingSizeUpdatePromise=t?this.trame.client.getConnection().getSession().call("trame.rca.size",[this.name,this.origin,{...this.currentSizeUpdateEvent,...t}]):this.trame.client.getConnection().getSession().call("trame.rca.size",[this.name,this.origin,this.currentSizeUpdateEvent]),this.pendingSizeUpdatePromise.finally(this.finallySizeUpdate)):this.pendingSizeUpdateCount++)},onMouseDown(t){this.dragging=!0,t.preventDefault(),this.sendEvent(this.toEvent("mouse-down",t)),document.addEventListener("mousemove",this.onMouseMove),document.addEventListener("mouseup",this.onMouseUp)},toEvent(t,e){const{altKey:n,button:r,ctrlKey:i,shiftKey:o,x:s,y:a}=e,c=[s-this.currentOffset[0],a-this.currentOffset[1]];return{t:t,p:c,b:r,alt:n,ctrl:i,shift:o}},sendEvent(t){this.trame&&(this.readyMouseUpdate?(this.readyMouseUpdate=!1,this.lastEvent=t,this.pendingMouseUpdatePromise=this.trame.client.getConnection().getSession().call("trame.rca.event",[this.name,this.origin,this.lastEvent]),this.pendingSizeUpdatePromise.finally(this.finallyEventUpdate)):this.lastEvent.type!==t.type&&(this.pendingEventUpdateCount=0,this.trame.client.getConnection().getSession().call("trame.rca.event",[this.name,this.origin,this.lastEvent]),this.trame.client.getConnection().getSession().call("trame.rca.event",[this.name,this.origin,t]),this.lastEvent=t))}},created(){this.dragging=!1,this.readyMouseUpdate=!0,this.lastEvent=null,this.pendingMouseUpdatePromise=k,this.pendingMouseUpdateCount=0,this.onMouseMove=t=>{t.preventDefault(),this.sendEvent(this.toEvent("mouse-move",t))},this.onMouseUp=t=>{t.preventDefault(),this.dragging=!1,this.sendEvent(this.toEvent("mouse-up",t)),document.removeEventListener("mousemove",this.onMouseMove),document.removeEventListener("mouseup",this.onMouseUp)},this.finallyEventUpdate=()=>{this.readyMouseUpdate=!0,this.pendingEventUpdateCount&&(this.pendingEventUpdateCount=0,this.sendEvent(this.lastEvent))},this.currentSizeUpdateEvent={w:10,h:10,p:window.devicePixelRatio},this.readySizeUpdate=!0,this.pendingSizeUpdatePromise=k,this.pendingSizeUpdateCount=0,this.finallySizeUpdate=()=>{this.readySizeUpdate=!0,this.pendingSizeUpdateCount&&(this.pendingSizeUpdateCount=0,this.pushSize())},this.observer=new ResizeObserver(()=>{if(!this.$el)return;const t=this.$el.getBoundingClientRect(),{top:e,left:n}=t;this.currentSizeUpdateEvent.w=t.width,this.currentSizeUpdateEvent.h=t.height,this.currentSizeUpdateEvent.p=window.devicePixelRatio,this.currentOffset=[n,e],this.pushSize()})},mounted(){this.observer.observe(this.$el)},beforeUnmount(){this.observer.unobserve(this.$el)},inject:["trame"],provide(){return{rcaPushSize:t=>this.pushSize(t)}}},D=R,L=n("efcf");function F(t){this["$style"]=L["default"].locals||L["default"]}var B=l(D,M,I,!1,F,null,null),$=B.exports,W={DisplayArea:_,FpsDisplay:z,ImageDisplayArea:h,RemoteControlledArea:$,VideoDisplayArea:w};function N(t){Object.keys(W).forEach(e=>{t.component(e,W[e])})}},fc6a:function(t,e,n){var r=n("44ad"),i=n("1d80");t.exports=function(t){return r(i(t))}},fdbf:function(t,e,n){var r=n("04f8");t.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator}})}));
//# sourceMappingURL=vue-trame_rca.umd.min.js.map