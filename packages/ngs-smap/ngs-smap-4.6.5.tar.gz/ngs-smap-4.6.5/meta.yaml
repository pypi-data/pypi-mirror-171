# Use on tags only!
# commdand: conda-build -c bioconda -c defaults .
{% set name = "ngs-smap" %}

package:
  name: {{ name|lower }}
  version: {{ environ.get('GIT_DESCRIBE_TAG') }}

source:
  git_url: "https://gitlab.com/truttink/smap.git"

requirements:
  host:
    - pip
    - python>=3.7
  run:
    - python>=3.7
    - pybedtools>=0.8.1
    - pysam==0.15.2
    - pandas>=1.2.2
    - matplotlib-base>=3.2.1
    - colorlog>=4.6.2

about:
  home: https://gitlab.com/truttink/smap
  license: Attribution-NonCommercial-ShareAlike 4.0 International
  license_family: OTHER
  license_file: LICENSE
  summary: "SMAP is a software package that analyzes next-generation DNA sequencing read mapping distributions and performs haplotype calling to create multi-allelic molecular markers."
  dev_url: https://gitlab.com/truttink/smap
  doc_url: https://ngs-smap.readthedocs.io
  doc_source_url: https://gitlab.com/truttink/smap/-/blob/master/README.md

test:
  commands:
    - smap haplotype-window --help
    - smap compare --help
    - smap delineate --help 

extra:
  recipe-maintainers:
    - dschaumont